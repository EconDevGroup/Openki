<template name="coursepage">
	<div class="container-fluid">
		<h1>{{mf 'course.list.title' 'CourseList'}}</h1>
		<div class="row container-fluid">
			<h1>{{mf 'courses.missingorg' 'Courses missing organisator(-team)'}}</h1>
			{{> courselist missing_organisator}}
		</div>
		<div class="row container-fluid">
			<h1>{{mf 'courses.missingsubs' 'Courses that are still looking for participants'}}</h1>
			{{> courselist missing_subscribers}}
		</div>
		<div class="row container-fluid">
			<h1>{{mf 'courses.all' 'All courses'}}</h1>
			{{> courselist all_courses}}
		</div>
		<div class="row container-fluid">
			{{> course_create}}
		</div>
	</div>
</template>


<template name="courselist">
	<ul class="courselist list-unstyled">
		{{#each this}}
			{{> course}}
		{{else}}
			{{mf 'courses.none' 'no courses found'}}
		{{/each}}
	</ul>
</template>

<template name="course">
	<li class="courselist_course col-xs-12 col-sm-4 col-md-3 col-lg-2">
		<a href="{{pathFor 'showCourse'}}">
			<div class="{{coursestate}} col-xs-9 col-sm-9 col-md-9 col-lg-9" style="height:0px">
				<div class="course_name">{{name}}</div>
			
				<div class="course_categories">{{> show_categories}}</div>
				
			</div>

			<div class="courselist_course_info col-xs-3 col-sm-3 col-md-3 col-lg-3">
				{{#if hasupcomingevents}}
					<ul class="course_eventlist">
						{{#each course_eventlist}}
							<li class="nav">
								<div>
									<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> {{dateformat_mini this.startdate}}
								</div>
								<div>
									<span class="glyphicon glyphicon-time" aria-hidden="true"></span> 
									{{timeformat this.startdate}}
								</div>
								{{#if location}}
								<div class="course_eventlist_location">
									<span class="glyphicon glyphicon-home" aria-hidden="true"></span>{{location}}
								</div>
								{{/if}}
							</li>
						{{/each}}

						{{#if course_eventlist_hasmore}}
							<li class="course_eventlist_hasmore">+ {{course_eventlist_hasmore}} <span class="icon-mini_date"></span> </li>
						{{/if}}
					</ul>
				{{else}}
					<ul class="course_status list-unstyled">
							<li class="team_status {{#if needsTeam}}no{{else}}yes{{/if}}" title="{{#if needsTeam}}needs an organizer{{else}}{{#if is_team}} you are organizer{{else}}has a organizer-team{{/if}}{{/if}}">T{{#if is_team}}*{{/if}}</li>
						{{#if requiresMentor}}
							<li class="mentor_status {{#if needsMentor}}no{{else}}yes{{/if}}" title="{{#if needsMentor}}still needs a mentor{{else}}{{#if is_mentor}}you are mentor{{else}}has a mentor{{/if}}{{/if}}">M{{#if is_mentor}}*{{/if}}</li>
						{{/if}}
						{{#if requiresHost}}
							<li class="host_status {{#if needsHost}}no{{else}}yes{{/if}}" title="{{#if needsHost}}still needs a host{{else}}{{#if is_host}}you are host{{else}}has a host{{/if}}{{/if}}">H{{#if is_host}}*{{/if}}</li>
						{{/if}}
						{{#if roles.donator}}
							<li class="donator_status {{donator_status}}" title="{{#if isYes donator_status}}{{#if is_donator}}you are donator{{else}}has a donator{{/if}}{{else}}still needs a donator{{/if}}">H{{#if is_donator}}*{{/if}}</li>
						{{/if}}
						{{#if roles.cook}}
							<li class="cook_status {{cook_status}}" title="{{#if isYes cook_status}}{{#if is_cook}}you are cook{{else}}has a cook{{/if}}{{else}}still needs a cook{{/if}}">H{{#if is_cook}}*{{/if}}</li>
						{{/if}}
					</ul>
				{{/if}}
			</div>
		</a>
	</li>
</template>