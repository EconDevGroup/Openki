<template name="course_events">
	<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
		{{# if currentUser}}
			<h3>{{mf 'course.events.add' 'New date?'}}</h3>
			{{>course_event course=course event=newEvent}}
		{{/if}}

		{{#if events_list}}
			<div class="course_events row">
				<div class="container-fluid">
					{{#each events_list}}
						<div class="course_event_container col-xs-12 col-xs-6 col-md-4 col-lg-4">
							{{>course_event}}
						</div>
					{{/each}}
				</div>
			</div>
		{{/if}}

		{{#if events_list_past}}
			<div class="course_events_past row hidden">
				<div class="container-fluid">
					<h3>{{mf 'course.title.Past events' 'Past events'}}</h3>
					{{#each events_list_past}}
						<div class="course_event_past_container col-xs-12 col-xs-6 col-md-4 col-lg-4">
							{{>course_event}}
						</div>
					{{/each}}
				</div>
			</div>
		{{/if}}
	</div>
</template>


<template name="course_event">
	{{#if showAddButton}}
		<input type="button" class="eventEdit" value="add a Date"/>
	{{else}}
    <div class="{{#if isCurrent}}current_event{{/if}} course_event">
		{{#if editing}}
			{{>course_event_edit}}
		{{else}}
			{{#with event}}
			<a href="{{pathFor 'showEvent'}}">
				<div class="course_event_date">
					<span class="day">{{weekday startdate}}</span><br>
					<span class="date">{{dateformat_mini_fullmonth startdate}}</span>
				</div>
				<div class="course_event_title"><h4>{{this.title}}</h4></div>
				<div class="course_event_time">
					<span class="glyphicon glyphicon-time"></span> {{timeformat startdate}}
					{{#if location}}<br><span class="glyphicon glyphicon-home"></span> {{location}}{{/if}}
				</div>
				{{#if this.mentors}}
				<p class="course_event_info">
						<ul class="course_event_mentors">
						{{#each this.mentors}}
							<li><span class="icon-mini_mentor"></span>  {{username this}}</li>
						{{/each}}
						</ul>
				</p>
				{{/if}}
				{{#if this.hosts}}
				<p class="course_event_info"><span class="icon-mini_location"></span> ((Location name)) : {{mf 'course.events.hosted_by' 'hosted by'}} {{username host}} </p>
				{{/if}}
            </a>
			{{/with}}
			{{# if currentUser}}
			<input type="button" class="eventEdit" value="Edit" />
			<input type="button" class="eventDelete" value="Delete" />
			{{/if}}
		{{/if}}
	</div>
	{{/if}}
</template>

