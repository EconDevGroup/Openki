<template name="Members">
	<div class="participants">
		<h3>{{mf 'course.title.Participants' 'Participants'}}</h3>
		<ul class='subscribers'>
		{{#each members}}
			<li>
				{{>profilelink user}}
				<ul class='roles'>
					{{#each roles}}
						<li class='{{this}}'> {{this}} </li>
					{{/each}}
				</ul>
				{{comment}}
			</li>
		{{/each}}
		</ul>
	</div>
</template>

<template name="roleDetails">
	{{#each this}}
		<div class="roleDetails role_{{roletype.type}}">
		{{#if enroling}}
			<div class="popup" >
				<h3>{{mf 'course.roles.enrol_as' 'enrol as'}} {{role}}</h3>
				<form name="form_post">
					<input type="button" class="subscribe" value="Ok" />
					<input type="button" class="cancel" value="cancel" />
					<input type="button" class="subscribeAnon" value="anonymously â˜”" />
					<br>{{mf 'course.roles.leave_msg_wish_interest' 'leave a message/wish/interest here:'}}<br>
					<textarea cols="70" rows="3" id="comment">{{comment}}</textarea><br /><br />
				</form>
			</div>
		{{/if}}

		<div class="subscribe">
		{{! The id= tags on the input fields are not referenced by our code. They were added to help the spark patcher figure out what to patch. I must assume there is a simple and proper solution to avoid this kludge, alas I have no knowledge of it. }}
		{{#if subscribed}}
			<span class='subscribed'>{{mf 'course.roles.you_are' 'you are'}} {{#if anonsub}}{{mf 'course.roles.anonymously' 'anonymously'}} {{/if}}{{mf 'course.roles.subscribed_as' 'subscribed as'}} {{roletype.type}}<input type="button" class="unsubscribe" name="{{roletype.type}}" value="retract" id="unsubscribe_{{roletype.type}}"/></span>
		{{else}}
			<input type="button" class="enrol" name="participant" value="{{roletype.subscribe}}"  id="subscribe_{{roletype.type}}"/>
		{{/if}}
		</div>
	</div>
	{{/each}}
</template>

<template name="enrol">

</template>