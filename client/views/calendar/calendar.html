<template name="calendar">
	{{> calendarNav date=startDate}}
	<div class="container calendar-container">
		<a href="/event/create" class="btn btn-add" role="button">
			{{mf 'menue.CreateEvent'}}
		</a>
		{{#each days}}
			{{> calendarDay day=this filter=filter}}
			<hr>
		{{/each}}
		<a href="/event/create" class="btn btn-add" role="button">
			{{mf 'menue.CreateEvent'}}
		</a>
	</div>
</template>

<template name="calendarDay">
	<div class="calendar-date">
		{{calendarDay day.start}}
	</div>
	{{#if eventsReady}}
		{{#unless hasEvents}}
			<br>
			{{mf 'calendar.noCoursesThisDay' "There are no events on this day"}}
		{{/unless}}
		{{#if hasEvents}}
			<div class="calendar-event-list">
				{{> eventList dataEvents=events withDate=false}}
			</div>
		{{/if}}
	{{else}}
		{{> loadingRow}}
	{{/if}}
</template>

<template name="calendarNav">
	<div class="calendar-nav-container">
		<div class="calendar-nav">
			{{> calendarNavControl direction='previous'}}
			<div class="calendar-nav-moment">
				<div class="calendar-nav-week">
					{{mf "calendar.weekNumber" "Week "}}{{weekNr date}}
				</div>
				<div class="calendar-nav-date">
					{{dateLong date}} - {{dateLong (endDateTo date)}}
				</div>
			</div>
			{{> calendarNavControl direction='next'}}
		</div>
	</div>
</template>

<template name="calendarNavControl">
	<div class="calendar-nav-control">
		<div class="btn-group">
			<button type="button"
					class="btn btn-default js-change-date">
					<span class="fa fa-arrow-{{#if isPrevious}}left{{else}}right{{/if}} fa-fw" aria-hidden="true"></span>
				{{mfString direction currentUnit 'short'}}
			</button>
			<button type="button"
					class="btn btn-default dropdown-toggle"
					aria-expanded="false"
					aria-haspopup="true"
					data-toggle="dropdown">
				<span class="fa fa-list-ul fa-fw" aria-hidden="true"></span>
			</button>
			<ul class="dropdown-menu">
				{{#each navUnits}}
					<li>
						<a class="js-change-unit" href="#">
							{{mfString ../direction this 'long'}}
						</a>
					</li>
				{{/each}}
			</ul>
		</div>
	</div>
</template>

<template name="calendarNavMF">
	{{mf 'calendar.previous.week.short' 'previous week'}}
	{{mf 'calendar.previous.month.short' 'previous month'}}
	{{mf 'calendar.previous.year.short' 'previous year'}}
	{{mf 'calendar.next.week.short' 'next week'}}
	{{mf 'calendar.next.month.short' 'next month'}}
	{{mf 'calendar.next.year.short' 'next year'}}
	{{mf 'calendar.previous.week.long' 'Go to previous week'}}
	{{mf 'calendar.previous.month.long' 'Go to previous month'}}
	{{mf 'calendar.previous.year.long' 'Go to previous year'}}
	{{mf 'calendar.next.week.long' 'Go to next week'}}
	{{mf 'calendar.next.month.long' 'Go to next month'}}
	{{mf 'calendar.next.year.long' 'Go to next year'}}
</template>
