<template name="calendar">
	<div class="container-fluid">
		<div class="calendar container-fluid">
		{{#each days}}
			{{> calendarDay day=this filter=filter}}
		{{/each}}
		</div>
	</div>
</template>

<template name="calendarDay">
	<div class="row">
		<h1>{{weekday day.start}}</h1>
		{{#unless hasEvents}}
		{{mf 'calendar.noCoursesThisDay' "There are no courses on this day"}}
		{{/unless}}
	</div>
	{{#if hasEvents}}
	<div class="calendar_eventlist row">
	{{#each events}}
		{{#if past}}
			{{> calendar_event_past}}
		{{else}}
			{{> calendar_event}}
		{{/if}}
	{{/each}}
	</div>
	{{/if}}
</template>

<template name="calendar_event">
	<a href="{{pathFor 'showEvent'}}">
		<div class="calendar_event col-xs-12 col-sm-4 col-md-3 col-lg-2 no-padding">
			<div class="course_event_time">
				<div style="padding-top: 0.5em">
				<span class="glyphicon glyphicon-time" aria-hidden="true"></span>
				{{timeformat start}}
				{{#if end}}
					- {{timeformat end}}
				{{/if}}
				</div>
				<div  style="height: 2em" class="ellipsis">
				{{#if location}}
					<span class="glyphicon glyphicon-home"></span>
					{{this.location}}
					{{#if room}}
						- {{this.room}}
					{{/if}}
				{{/if}}
				</div>
			</div>
			<div style="height: 2em" class="course_event_title ellipsis">
				<h4>{{this.title}}</h4>
			</div>
			<div class="course_event_desc ellipsis">
				<p >{{plain this.description}}</p>
			</div>
		</div>
	</a>
</template>

<template name="calendar_event_past">
	<a href="{{pathFor 'showEvent'}}">
	  	<div class="calendar_event_past no-padding col-xs-12 col-sm-4 col-md-3 col-lg-2" style='overflow: hidden'>
			<div class="course_event_date">
				<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
				{{dateformat_withday start}}
			</div>
			<div class="course_event_time">
				<span class="glyphicon glyphicon-time" aria-hidden="true"></span> 
				{{timeformat start}} - {{timeformat end}} &nbsp;&nbsp;&nbsp; {{this.location}}, {{this.room}}
			</div>
			<div class="course_event_title">
				<h4>{{this.title}}</h4>
			</div>
			<div class="course_event_desc ellipsis">
				<p>{{plain description}}</p>
			</div>
			<div class="grey_out"></div>
	  	</div>
	</a>
</template>
