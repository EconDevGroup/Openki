<template name="calendar">
	<div class="container-fluid">
		<div class="calendar container-fluid">
		{{#each this}}	
			<div class="row">
				<h1>{{weekday day}}</h1>
				{{#if this.events.count}}
				{{else}}
				{{mf 'calendar.noCoursesThisDay' "There are no courses on this day"}}
				{{/if}}
			</div>
			{{#if this.events.count}}
			<div class="calendar_eventlist row">
			{{#each this.events}}
				{{#if past}}
					{{> calendar_event_past}}
				{{else}}
					{{> calendar_event}}
				{{/if}}
			{{/each}}
			</div>
			{{/if}}
		{{/each}}
		</div>
	</div>
</template>

<template name="calendar_event">
	<a href="{{pathFor 'showEvent'}}">
		<div class="calendar_event col-xs-12 col-sm-4 col-md-3 col-lg-2 no-padding">
			<div class="course_event_date">
				<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
				{{dateformat_withday startdate}}
			</div>
			<div class="course_event_time">
				<span class="glyphicon glyphicon-time" aria-hidden="true"></span>
				{{timeformat startdate}}
				{{#if enddate}}
					- {{timeformat enddate}}
				{{/if}}
				<br>
				{{#if location}}
					<span class="glyphicon glyphicon-home"></span>
					{{this.location}}
					{{#if room}}
						- {{this.room}}
					{{/if}}
				{{/if}}
			</div>
			<div class="course_event_title">
				<h4>{{this.title}}</h4>
			</div>
			<div class="course_event_desc ellipsis" style="word-wrap: break-word">
				<p >{{plain this.description}}</p>
			</div>
		</div>
	</a>
</template>

<template name="calendar_event_past">
	<a href="{{pathFor 'showEvent'}}">
	  	<div class="calendar_event_past no-padding col-xs-12 col-sm-4 col-md-3 col-lg-2" style='overflow: hidden'>
			<div class="course_event_date">
				<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
				{{dateformat_withday startdate}} 
			</div>
			<div class="course_event_time">
				<span class="glyphicon glyphicon-time" aria-hidden="true"></span> 
				{{timeformat startdate}} - {{timeformat enddate}} &nbsp;&nbsp;&nbsp; {{this.location}}, {{this.room}}
			</div>
			<div class="course_event_title">
				<h4>{{this.title}}</h4>
			</div>
			<div class="course_event_desc ellipsis">
				<p>{{plain description}}</p>
			</div>
			<div class="grey_out"></div>
	  	</div>
	</a>
</template>
