<template name="groupName">
	<a class="js-group-label"
		href="{{pathFor 'groupDetails' _id=this}}"
		data-tooltip="{{mf 'groupList.show_courses' '{NAME}, show all their courses' NAME=name}}">
		{{short}}
	</a>
</template>

<template name="groupNameFull">
	<a class="js-group-label"
		href="{{pathFor 'groupDetails' _id=this}}"
		data-html="true"
		data-tooltip="
			{{mf 'groupListFull.show_courses' 'Show all courses of this group'}}">
		{{name}}
	</a>
</template>

<template name="groupList">
	<ul class="groups-list">
		{{#each groups}}
			<li>
				{{> groupName}}
			</li>
		{{/each}}
	</ul>
</template>

<template name="detailsGroupList">
	<ul class="groups-list">
		{{#each groups}}
			<li>
				{{> groupName}}
				{{#if isOrganizer}}
					<span class="group-label-addon">
						<i class="glyphicon glyphicon-bullhorn fa-fw"></i>
					</span>
				{{/if}}
				{{#if tools}}
					<div class="dropdown">
						<button type="button" class="group-label-addon-btn dropdown-toggle"
							aria-expanded="false"
							aria-haspopup="true"
							data-toggle="dropdown">
							<i class="fa fa-caret-down fa-fw"></i>
						</button>
						<ul class="dropdown-menu">
							{{#each tools}}
								<li>{{> toolTemplate}}</li>
							{{/each}}
						</ul>
					</div>
				{{/if}}
			</li>
		{{/each}}
		{{> detailsGroupAdd}}
	</ul>
</template>

<template name="detailsGroupAdd">
	{{#if groupsToAdd}}
		<div class="dropdown">
			<button type="button" class="group-label-btn dropdown-toggle"
				aria-expanded="false"
				aria-haspopup="true"
				data-toggle="dropdown">
				<i class="fa fa-plus fa-fw" title="{{mf 'course.group.addText' 'Add a group'}}"></i>
			</button>
			<ul class="dropdown-menu group-editor">
				{{#each groupsToAdd}}
					<li>
						<a href="#">
							{{> groupName}}&nbsp;
							<button type="button" class="btn btn-add js-add-group" value="{{this}}">
								{{mf 'course.group.confirmAddButton' "Promote"}}
							</button>
						</a>
					</li>
				{{/each}}
			</ul>
		</div>
	{{/if}}
</template>


<template name="detailsGroupRemove">
	<a href="#" class="js-expand">
		<i class="glyphicon glyphicon-remove fa-fw" aria-hidden="true"></i>
		{{mf 'course.group.remove' 'Remove'}}
	</a>
	{{#if expanded}}
		<div class="group-tool-dialog">
		{{#with groupId}}
			{{mf 'course.group.confirmRemoveText' 'Stop listing group "{NAME}" as promoters?' NAME=name}}
		{{/with}}
		<button type="button" class="btn btn-remove js-remove">
			{{mf 'course.group.confirmRemoveButton' "Delist"}}
		</button>
		</div>
	{{/if}}
</template>

<template name="detailsGroupMakeOrganizer">
	<a href="#" class="js-expand">
		<i class="glyphicon glyphicon-bullhorn fa-fw" aria-hidden="true"></i>
		{{mf 'course.group.addOrgText' "Give editing rights"}}
	</a>
	{{#if expanded}}
		<div class="group-tool-dialog">
			{{#with groupId}}
				{{mf 'course.group.confirmOrgText' 'Add group "{NAME}" as editors?' NAME=name}}
			{{/with}}
			{{mf 'course.group.confirmOrgNotes' "All members of the group will be able to edit the course and can create new events for it."}}
			<button type="button" class="btn btn-add js-makeOrganizer">
				{{mf 'course.group.confimOrgButton' "Give editing rights"}}
			</button>
		</div>
	{{/if}}
</template>

<template name="detailsGroupRemoveOrganizer">
	<a href="#" class="js-expand">
		<i class="glyphicon glyphicon-remove fa-fw" aria-hidden="true"></i>
		{{mf 'course.group.removeOrgText' "Remove editing rights"}}
	</a>
	{{#if expanded}}
		<div class="group-tool-dialog">
			{{#with groupId}}
				{{mf 'course.group.confirmRemoveOrgText' 'Take away all editing rights from group "{NAME}"?' NAME=name}}
			{{/with}}
			<button type="button" class="btn btn-remove js-removeOrganizer">
				{{mf 'course.group.confimRemoveOrgButton' "Take away editing rights"}}
			</button>
		</div>
	{{/if}}
</template>
