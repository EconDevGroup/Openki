<template name="region_sel_outer">
	{{#if Template.subscriptionsReady}}
		{{#if searchingRegions}}
			{{> region_sel}}
		{{else}}
			{{> regionsDisplay}}
		{{/if}}
	{{/if}}
</template>

<template name="region_sel">
	<a>
		<span class="fa fa-dot-circle-o"></span>&nbsp;
		<input class="-searchRegions"
					 value="{{#if region}}{{region.name}}{{else}}{{mf 'menue.All regions' 'All regions'}}{{/if}}"
					 type="text"
		/>
	</a>
	<span
		class="dropdown-toggle"
		data-toggle="dropdown"
		role="button"
		aria-expanded="false">
	</span>
	<span class="caret"></span>


	<ul class="dropdown-menu" role="menu">
		<li>
			<a class="regionselect -clickClose" href="/region/">
				{{mf 'menue.All regions' 'All regions'}}
				{{#if currentRegion}}
					<span class="glyphicon glyphicon-ok"></span>
				{{/if}}
			</a>
		</li>
		{{#each countries}}
			<span class="flag-icon flag-icon-{{lowCountry}}"></span>
			{{this}}
			{{#each regions}}
				<li>
					<a href="#" class="regionselect -clickClose">
						{{name}}
						{{#if currentRegion}}
							<span class="glyphicon glyphicon-ok"></span>
						{{/if}}
					</a>
				</li>
			{{/each}}
		{{/each}}
	</ul>
</template>

<template name="regionsDisplay">
	<a class="-regionsDisplay">
		<span class="fa fa-dot-circle-o"></span>&nbsp;
		{{#if region}}
			{{region.name}}
		{{else}}
			{{mf 'menue.All regions' 'All regions'}}
		{{/if}}
	</a>
</template>
